(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{15:function(t,e,s){},16:function(t,e,s){},19:function(t,e,s){"use strict";s.r(e);var n=s(1),i=s.n(n),a=s(4),c=s.n(a),r=(s(15),s(16),s(8)),o=s(3),l=s.n(o),u=s(5),d=s(6),h=s(7),b=s(10),j=s(9),p=s(0),f=function(t){Object(b.a)(s,t);var e=Object(j.a)(s);function s(){var t;return Object(d.a)(this,s),(t=e.call(this)).state={userInput:"",items:[]},t.fetch(),t}return Object(h.a)(s,[{key:"fetch",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(Object(u.a)(l.a.mark((function t(){var e,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://todo-list-ellistat-default-rtdb.europe-west1.firebasedatabase.app/list/list.json");case 2:return e=t.sent,t.next=5,e.json();case 5:s=t.sent,this.setState({items:s});case 7:case"end":return t.stop()}}),t,this)}))))},{key:"save",value:function(){var t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({list:this.state.items})};fetch("https://todo-list-ellistat-default-rtdb.europe-west1.firebasedatabase.app/list.json",t),console.table(this.state.items)}},{key:"onChange",value:function(t){this.setState({userInput:t.target.value})}},{key:"addTodo",value:function(t){var e=this;t.preventDefault();var s=[!1,this.state.userInput,!1,"".concat((new Date).toLocaleDateString()," - ").concat((new Date).toLocaleTimeString())];null==this.state.items?this.setState({userInput:"",items:[s]}):this.setState({userInput:"",items:[].concat(Object(r.a)(this.state.items),[s])}),setTimeout((function(){e.save()}),1)}},{key:"deleteTodo",value:function(t){var e=this.state.items,s=e.indexOf(t);e.splice(s,1),this.setState({items:e}),this.save()}},{key:"tickTodo",value:function(t){var e=this.state.items,s=e.indexOf(t);e[s][0]?e[s][0]=!1:e[s][0]=!0,this.setState({items:e}),this.save()}},{key:"renderTodos",value:function(){var t=this;return this.state.items.map((function(e){return Object(p.jsxs)("div",{className:"list-group-item",children:[Object(p.jsx)("button",{onClick:t.tickTodo.bind(t,e),children:e[0]?"\u2611":"\u25fb"}),Object(p.jsx)("span",{className:e[0]?"barr\xe9":null,children:e[1]}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{children:e[3]})," ",Object(p.jsx)("button",{onClick:t.deleteTodo.bind(t,e),children:"Delete"})]},e)}))}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"titre",children:[Object(p.jsx)("h1",{children:"Todo list en React - Ellistat"}),Object(p.jsx)("p",{children:"Marius Proton"})]}),Object(p.jsxs)("div",{className:"carte",children:[Object(p.jsxs)("form",{className:"form-row align-items-center",children:[Object(p.jsx)("input",{value:this.state.userInput,type:"text",placeholder:"New Task",onChange:this.onChange.bind(this),className:"form-control mb-2"}),Object(p.jsx)("button",{onClick:this.addTodo.bind(this),className:"btn btn-primary",children:"Ajouter"})]}),Object(p.jsx)("div",{className:"list-group",children:null!=this.state.items?this.renderTodos():"this list is empty"})]})]})}}]),s}(n.Component);var m=function(){return Object(p.jsx)(f,{})},v=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,20)).then((function(e){var s=e.getCLS,n=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;s(t),n(t),i(t),a(t),c(t)}))};c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(m,{})}),document.getElementById("root")),v()}},[[19,1,2]]]);
//# sourceMappingURL=main.763a873d.chunk.js.map